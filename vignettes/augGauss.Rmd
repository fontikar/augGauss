---
title: "augGauss"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{augGauss}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(augGauss)
```

## Goal of package

## Installation

'augGauss' is under active development, you can install the development version of 'augGauss' from [GitHub](https://github.com/) with:

```{r, eval=FALSE}
# install.packages("remotes")
remotes::install_github("traitecoevo/augGauss")

library(augGauss)
```

## Getting started

We will be using some example data to demonstrate the main functions of `augGauss`
<!-- or can ditch if we will be simulating it -->

```{r}
demo_data

?demo_data
```

## Simulate gradients from raw data

```{r}
sim_data <- simulate_data(nSubj = 10, nGroups = 3)

sim_data
```

You can save the simulated data by setting the `save_data` argument to `TRUE`

```{r, eval=FALSE}
sim_data <- simulate_data(nSubj = 10, nGroups = 3, save_data = TRUE)
```

Plot the simulated gradients

<!-- Currently hard coded for 3 groups - possibly need to work on flexibility -->

```{r, eval = FALSE}
plot_simulated_data(sim_data)
```


```{r}
transformed_data <- sim_data |> transform_data()

group1_data <- sim_data |> 
  dplyr::filter(group == "group1") |> 
  transform_data() |> 
  purrr::pluck(1)

```


```{r}
new <- Run_Model(transformed_data = group1_data, iter = 100, chains = 2)

combined <- aug_fit_model(transformed_data = transformed_data, iter = 100, chains = 2)
```

```{r}
model_output |> rstan::traceplot()

diag <- rstan::get_sampler_params(model_output)

samples <- rstan::extract(model_output)

summary <- rstan::summary(model_output)
```


## Model diagnostics

## Model inspection

<!-- What happens to HDI when nGroups > 3? -->
